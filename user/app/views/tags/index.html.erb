<% javascript "slider" %>
<% javascript "slider_changer" %>
<% javascript "image_flow" %>

<script id="canvas_js" type="text/javascript">
  <%= render :partial => 'content', :collection => @contents %>
</script>
<script type="text/javascript">
  const loop = cell_height * <%= @contents.count / 3 + 1 %>;
</script>
<script id="draw_func" type="text/javascript">
  <%= render :partial => 'draw', :object => @contents %>
</script>
<style type="text/css">
  body { font-family: Arial,Helvetica,sans-serif;}
</style>
<link rel="stylesheet" type="text/css" media="screen, projection" href="stylesheets/slider.css" />

<table>
  <tr>
    <td><%= image_tag 'volun.png' %></td>
    <% if logged_in? %>
      <td>Hello, <%= current_user.login %></td>
      <% form_tag logout_path do %>
        <td><%= submit_tag("logout") %></td>
      <% end %>
    <% else %>
      <% form_tag login_path do %>
        <td><%= text_field_tag 'login' %></td>
        <td><%= password_field_tag 'password' %></td>
        <td><%= submit_tag("login") %></td>
        <td>create new account <%= link_to "here", signup_path %></td>
      <% end %>
    <% end %>
  </tr>
</table>
<table>
  <tr>
    <% @tags.each do |tag| %>
      <td><%= link_to_remote tag.name, :url => { :action => :show, :tag => tag.id } %></td>
    <% end %>
  </tr>
</table>
<hr>
<input  name="slider" id="slider" type="text" title="Range: 10 - 100" class="fd_range_10_100 fd_classname_extraclass fd_callback_changeScrollSpeed" value="50" />
<hr>
<div id="canvas_div">
  <%= render :partial => 'canvas' %>
</div>

